<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}wisafe - ì™€ì´íŒŒì´ ë³´ì•ˆ ìŠ¤ìºë„ˆ{% endblock %}</title>
    
    <!-- ê³µí†µ CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
    {% block extra_css %}{% endblock %}
    
    <!-- íŒŒë¹„ì½˜ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“¶</text></svg>">
</head>
<body>

    <!-- í”Œë˜ì‹œ ë©”ì‹œì§€ -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="alert alert-{{ 'error' if category == 'error' else category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        {% block content %}{% endblock %}
    </main>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="footer-divider"></div>
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 wisafe. ì™€ì´íŒŒì´ ë³´ì•ˆ ìŠ¤ìºë„ˆ</p>
                <p class="footer-note">ì´ ë„êµ¬ëŠ” êµìœ¡ ë° ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
            </div>
        </div>
    </footer>

    <!-- ê³µí†µ JavaScript -->
    <script>
        // í”Œë˜ì‹œ ë©”ì‹œì§€ ìë™ ìˆ¨ê¹€
        document.addEventListener('DOMContentLoaded', function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                setTimeout(function() {
                    alert.style.opacity = '0';
                    setTimeout(function() {
                        alert.remove();
                    }, 300);
                }, 5000);
            });
        });

        // ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        function showLoading(element, text = 'ë¡œë”© ì¤‘...') {
            element.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <div class="loading-text">${text}</div>
                </div>
            `;
        }

        function hideLoading(element, content) {
            element.innerHTML = content;
        }

        function showAlert(message, type = 'info') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            const container = document.querySelector('.main-content');
            container.insertBefore(alertDiv, container.firstChild);
            
            setTimeout(() => {
                alertDiv.style.opacity = '0';
                setTimeout(() => alertDiv.remove(), 300);
            }, 5000);
        }
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
